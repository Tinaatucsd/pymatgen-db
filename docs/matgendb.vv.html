
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>matgendb.vv package &#8212; pymatgen-db 2018.2.21 documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38991557-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen-db 2018.2.21 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="matgendb-vv-package">
<h1>matgendb.vv package<a class="headerlink" href="#matgendb-vv-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-matgendb.vv.diff">
<span id="matgendb-vv-diff-module"></span><h2>matgendb.vv.diff module<a class="headerlink" href="#module-matgendb.vv.diff" title="Permalink to this headline">¶</a></h2>
<p>Diff collections, as sets</p>
<dl class="class">
<dt id="matgendb.vv.diff.Delta">
<em class="property">class </em><code class="descname">Delta</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#Delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.Delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Delta between two properties.</p>
<dl class="docutils">
<dt>Syntax:</dt>
<dd>+-       Change in sign, 0 not included
+-=      Change in sign, + to 0 or - to 0 included
+-X      abs(new - old) &gt; X
+X-Y     (new - old) &gt; X or (old - new) &gt; Y
+-X=     abs(new - old) &gt;= X
+X-Y=    (new - old) &gt;= X or (old - new) &gt;= Y
+X[=]   Just look in ‘+’ direction
-Y[=]   Just look in ‘-‘ direction
…%     Instead of (v2 - v1), use 100*(v2 - v1)/v1</dd>
</dl>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>str</em>) – Expression string</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">ValueError if it doesn’t match the syntax</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="matgendb.vv.diff.Delta.as_json">
<code class="descname">as_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#Delta.as_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.Delta.as_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.diff.Delta.cmp">
<code class="descname">cmp</code><span class="sig-paren">(</span><em>old</em>, <em>new</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#Delta.cmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.Delta.cmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare numeric values with delta expression.</p>
<p>Returns True if delta matches (is as large or larger than) this class’ expression.</p>
<p>Delta is computed as (new - old).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>old</strong> (<em>float</em>) – Old value</li>
<li><strong>new</strong> (<em>float</em>) – New value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if delta between old and new is large enough, False otherwise</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.diff.Differ">
<em class="property">class </em><code class="descname">Differ</code><span class="sig-paren">(</span><em>key='_id'</em>, <em>props=None</em>, <em>info=None</em>, <em>fltr=None</em>, <em>deltas=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#Differ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.Differ" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculate difference between two collections, based solely on a
selected key.</p>
<p>As noted in <a class="reference internal" href="#matgendb.vv.diff.Differ.diff" title="matgendb.vv.diff.Differ.diff"><code class="xref py py-func docutils literal notranslate"><span class="pre">diff()</span></code></a>, this will not work with huge datasets, as it stores
all the keys in memory in order to do a “set difference” using Python sets.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – Field to use for identifying records</li>
<li><strong>props</strong> – List of fields to use for matching records</li>
<li><strong>info</strong> – List of extra fields to retrieve from (and show) for each record.</li>
<li><strong>fltr</strong> – Filter for records, a MongoDB query expression</li>
<li><strong>deltas</strong> (<em>dict</em>) – {prop: delta} to check. ‘prop’ is a string, ‘delta’ is an instance of <a class="reference internal" href="#matgendb.vv.diff.Delta" title="matgendb.vv.diff.Delta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delta</span></code></a>.
Any key for ‘prop’ not in parameter ‘props’ will get added.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError if some delta does not parse.</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED">
<code class="descname">CHANGED</code><em class="property"> = 'different'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_DELTA">
<code class="descname">CHANGED_DELTA</code><em class="property"> = 'delta'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_DELTA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_MATCH_DELTA">
<code class="descname">CHANGED_MATCH_DELTA</code><em class="property"> = 'delta'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_MATCH_DELTA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_MATCH_EXACT">
<code class="descname">CHANGED_MATCH_EXACT</code><em class="property"> = 'exact'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_MATCH_EXACT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_MATCH_KEY">
<code class="descname">CHANGED_MATCH_KEY</code><em class="property"> = 'match type'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_MATCH_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>CHANGED result fields</p>
</dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_NEW">
<code class="descname">CHANGED_NEW</code><em class="property"> = 'new'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_NEW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.CHANGED_OLD">
<code class="descname">CHANGED_OLD</code><em class="property"> = 'old'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.CHANGED_OLD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.MISSING">
<code class="descname">MISSING</code><em class="property"> = 'missing'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.MISSING" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.NEW">
<code class="descname">NEW</code><em class="property"> = 'additional'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.NEW" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.diff.Differ.NO_PROPERTY">
<code class="descname">NO_PROPERTY</code><em class="property"> = '__MISSING__'</em><a class="headerlink" href="#matgendb.vv.diff.Differ.NO_PROPERTY" title="Permalink to this definition">¶</a></dt>
<dd><p>for missing property</p>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.diff.Differ.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>c1</em>, <em>c2</em>, <em>only_missing=False</em>, <em>only_values=False</em>, <em>allow_dup=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#Differ.diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.Differ.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a difference between the 2 collections.
The first collection is treated as the previous one, and the second
is treated as the new one.</p>
<p>Note: this is not ‘big data’-ready; we assume all the records can fit in memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>c1</strong> (<em>str</em><em> or </em><em>QueryEngine</em>) – Collection (1) config file, or QueryEngine object</li>
<li><strong>c2</strong> (<em>str</em><em> or </em><em>QueryEngine</em>) – Collection (2) config file, or QueryEngine object</li>
<li><strong>only_missing</strong> – Only find and return self.MISSING; ignore ‘new’ keys</li>
<li><strong>only_values</strong> – Only find and return self.CHANGED; ignore new or missing keys</li>
<li><strong>allow_dup</strong> – Allow duplicate keys, otherwise fail with ValueError</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict with keys self.MISSING, self.NEW (unless only_missing is True), &amp; self.CHANGED,
each a list of records with the key and
any other fields given to the constructor ‘info’ argument.
The meaning is: ‘missing’ are keys that are in c1 not found in c2
‘new’ is keys found in c2 that are not found in c1, and ‘changed’ are records
with the same key that have different ‘props’ values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.diff.IID">
<em class="property">class </em><code class="descname">IID</code><a class="reference internal" href="_modules/matgendb/vv/diff.html#IID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.IID" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="matgendb.vv.diff.IID.next">
<em class="property">classmethod </em><code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/diff.html#IID.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.diff.IID.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-matgendb.vv.report">
<span id="matgendb-vv-report-module"></span><h2>matgendb.vv.report module<a class="headerlink" href="#module-matgendb.vv.report" title="Permalink to this headline">¶</a></h2>
<p>Description.</p>
<dl class="class">
<dt id="matgendb.vv.report.DiffFormatter">
<em class="property">class </em><code class="descname">DiffFormatter</code><span class="sig-paren">(</span><em>meta</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for formatting a ‘diff’ report.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meta</strong> (<em>dict</em>) – Report metadata, must have the following keys:
- start_time, end_time: string repr of report gen. times
- elapsed: float #sec for end_time - start_time
- db1, db2: string repr of 2 input database/collections.</li>
<li><strong>key</strong> (<em>str</em>) – Record key field</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.report.DiffFormatter.TITLE">
<code class="descname">TITLE</code><em class="property"> = 'Materials Project Database Diff Report'</em><a class="headerlink" href="#matgendb.vv.report.DiffFormatter.TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a report from a result object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Report body</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffFormatter.ordered_cols">
<code class="descname">ordered_cols</code><span class="sig-paren">(</span><em>columns</em>, <em>section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffFormatter.ordered_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffFormatter.ordered_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered list of columns, from given columns and the name of the section</p>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffFormatter.result_subsets">
<code class="descname">result_subsets</code><span class="sig-paren">(</span><em>rs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffFormatter.result_subsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffFormatter.result_subsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Break a result set into subsets with the same keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rs</strong> (<em>list of dict</em>) – Result set, rows of a result as a list of dicts</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A set with distinct keys (tuples), and a dict, by these tuples, of max. widths for each column</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffFormatter.sort_rows">
<code class="descname">sort_rows</code><span class="sig-paren">(</span><em>rows</em>, <em>section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffFormatter.sort_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffFormatter.sort_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the rows, as appropriate for the section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rows</strong> – List of tuples (all same length, same values in each position)</li>
<li><strong>section</strong> – Name of section, should match const in Differ class</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None; rows are sorted in-place</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.DiffHtmlFormatter">
<em class="property">class </em><code class="descname">DiffHtmlFormatter</code><span class="sig-paren">(</span><em>meta</em>, <em>url=None</em>, <em>email_mode=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffHtmlFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.DiffFormatter" title="matgendb.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.DiffFormatter</span></code></a></p>
<p>Format an HTML diff report.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meta</strong> – see superclass</li>
<li><strong>url</strong> (<em>str</em>) – Optional URL to create hyperlink for keys</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.report.DiffHtmlFormatter.DIFF_CSS">
<code class="descname">DIFF_CSS</code><em class="property"> = ['.header {padding: 5px; margin: 0 5px;}', '.header h1 {color: #165F4B; font-size: 20; text-align: left; margin-left: 20px;}', '.header p {color: #666666; margin-left: 20px; height: 12px;}', '.header p em {color: #4169E1; font-style: normal;}', '.content {padding: 15px; padding-top: 0px; margin: 0; background-color: #F3F3F3;}', '.content h2 {color: #2C3E50; font-size: 16px;}', '.empty { font-size: 14px; font-style: italic;}', '.section {padding: 5px; margin: 10px; background-color: #E2E2E2; border-radius: 5px;}', '.section div {margin-left: 10px;}', '.section table {margin-left: 5px;}', 'tr:nth-child(even) { background-color: white; }', 'tr:nth-child(odd) { background-color: #F5F5F5; }', 'tr:nth-child(1) { background-color: #778899; font-weight: 500;}', 'th, td {padding: 0.2em 0.5em;}', 'th { text-align: left;  color: white; margin: 0;}', '.fixed { font-family: Consolas, monaco, monospace; }']</em><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter.DIFF_CSS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.DiffHtmlFormatter.css">
<code class="descname">css</code><em class="property"> = [&quot;html { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }&quot;, 'body { margin: 2em;}', 'table { margin-top: 1em; clear: both; border: 0;}', 'dl, dt, dd { float: left; }', 'dl, dt { clear: both; }', 'dt { width: 8em; font-weight: 700; }', 'dd { width: 32em; }', 'tr:nth-child(even) { background-color: #E9E9E9; }', 'tr:nth-child(odd) { background-color: #E9E9E9; }', 'th, td {padding: 0.2em 0.5em;}', 'th { text-align: left;  color: black; margin: 0; font-weight: 300;}', 'h1, h2, h3 { clear: both; margin: 0; padding: 0; }', 'h1 { font-size: 18; color: rgb(44, 62, 80); }', 'h2 { font-size: 14; color: black; }', '.header {padding: 5px; margin: 0 5px;}', '.header h1 {color: #165F4B; font-size: 20; text-align: left; margin-left: 20px;}', '.header p {color: #666666; margin-left: 20px; height: 12px;}', '.header p em {color: #4169E1; font-style: normal;}', '.content {padding: 15px; padding-top: 0px; margin: 0; background-color: #F3F3F3;}', '.content h2 {color: #2C3E50; font-size: 16px;}', '.empty { font-size: 14px; font-style: italic;}', '.section {padding: 5px; margin: 10px; background-color: #E2E2E2; border-radius: 5px;}', '.section div {margin-left: 10px;}', '.section table {margin-left: 5px;}', 'tr:nth-child(even) { background-color: white; }', 'tr:nth-child(odd) { background-color: #F5F5F5; }', 'tr:nth-child(1) { background-color: #778899; font-weight: 500;}', 'th, td {padding: 0.2em 0.5em;}', 'th { text-align: left;  color: white; margin: 0;}', '.fixed { font-family: Consolas, monaco, monospace; }']</em><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter.css" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffHtmlFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffHtmlFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate HTML report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Report body</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffHtmlFormatter.style">
<code class="descname">style</code><span class="sig-paren">(</span><em>css_class</em>, <em>elt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffHtmlFormatter.style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter.style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.DiffHtmlFormatter.styles">
<code class="descname">styles</code><em class="property"> = {'content': {'_': 'padding: 15px; padding-top: 0px; margin: 0; background-color: #F3F3F3', 'h2': 'color: #2C3E50; font-size: 16px', 'section': 'padding: 5px; margin: 10px; background-color: #E2E2E2; border-radius: 5px'}, 'header': {'h1': 'color: #165F4B; font-size: 20; text-align: left; margin-left: 20px', 'p': 'color: #666666; margin-left: 20px; height: 12px', 'em': 'color: #4169E1; font-style: normal'}, 'table': {'table': 'margin-top: 1em; clear: both; border: 0', 'tr_even': 'background-color: white', 'tr_odd': 'background-color: #F5F5F5', 'tr1': 'background-color: #778899; font-weight: 500', 'th': 'text-align: left;  color: white; margin: 0; padding: 0.2em 0.5em', 'td': 'padding: 0.2em 0.5em'}}</em><a class="headerlink" href="#matgendb.vv.report.DiffHtmlFormatter.styles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.DiffJsonFormatter">
<em class="property">class </em><code class="descname">DiffJsonFormatter</code><span class="sig-paren">(</span><em>meta</em>, <em>pretty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.DiffFormatter" title="matgendb.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.DiffFormatter</span></code></a></p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meta</strong> – see superclass</li>
<li><strong>pretty</strong> (<em>bool</em>) – Indented format</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="matgendb.vv.report.DiffJsonFormatter.Encoder">
<em class="property">class </em><code class="descname">Encoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter.Encoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter.Encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.encoder.JSONEncoder</span></code></p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (‘, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="method">
<dt id="matgendb.vv.report.DiffJsonFormatter.Encoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter.Encoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter.Encoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffJsonFormatter.document">
<code class="descname">document</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter.document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter.document" title="Permalink to this definition">¶</a></dt>
<dd><p>Build dict for MongoDB, expanding result keys as we go.</p>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffJsonFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a report from a result object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Report body</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.DiffJsonFormatter.will_copy">
<code class="descname">will_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffJsonFormatter.will_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffJsonFormatter.will_copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.DiffTextFormatter">
<em class="property">class </em><code class="descname">DiffTextFormatter</code><span class="sig-paren">(</span><em>meta</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffTextFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffTextFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.DiffFormatter" title="matgendb.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.DiffFormatter</span></code></a></p>
<p>Format a plain-text diff report.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>meta</strong> (<em>dict</em>) – Report metadata, must have the following keys:
- start_time, end_time: string repr of report gen. times
- elapsed: float #sec for end_time - start_time
- db1, db2: string repr of 2 input database/collections.</li>
<li><strong>key</strong> (<em>str</em>) – Record key field</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="matgendb.vv.report.DiffTextFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#DiffTextFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.DiffTextFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate plain text report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Report body</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.Emailer">
<em class="property">class </em><code class="descname">Emailer</code><span class="sig-paren">(</span><em>sender='me&#64;localhost'</em>, <em>recipients=('you&#64;remote.host'</em>, <em>)</em>, <em>subject='Report'</em>, <em>server='localhost'</em>, <em>port=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Emailer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Emailer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.util.DoesLogging" title="matgendb.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.util.DoesLogging</span></code></a></p>
<p>Send a report to an email recipient.</p>
<p>Send reports as email.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">sender Sender of the email</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">recipients List of _recipients of the email</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">subject Email _subject line</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">server SMTP server host</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">port SMTP server port (None for default)</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="matgendb.vv.report.Emailer.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>text</em>, <em>fmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Emailer.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Emailer.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the email message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – The text to send</li>
<li><strong>fmt</strong> (<em>str</em>) – The name of the format of the text</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of recipients it was sent to</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Emailer.subject">
<code class="descname">subject</code><a class="headerlink" href="#matgendb.vv.report.Emailer.subject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.HTMLFormatter">
<em class="property">class </em><code class="descname">HTMLFormatter</code><span class="sig-paren">(</span><em>line_sep='n'</em>, <em>id_column=0</em>, <em>css=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#HTMLFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.HTMLFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as HTML.</p>
<dl class="method">
<dt id="matgendb.vv.report.HTMLFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#HTMLFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.HTMLFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.Header">
<em class="property">class </em><code class="descname">Header</code><span class="sig-paren">(</span><em>title=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Header" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base header class.</p>
<dl class="method">
<dt id="matgendb.vv.report.Header.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Header.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Header.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.Header.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Header.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Header.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.Header.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Header.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Header.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.JSONFormatter">
<em class="property">class </em><code class="descname">JSONFormatter</code><span class="sig-paren">(</span><em>id_column=0</em>, <em>indent=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#JSONFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.JSONFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as JSON.</p>
<dl class="method">
<dt id="matgendb.vv.report.JSONFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#JSONFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.JSONFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.MarkdownFormatter">
<em class="property">class </em><code class="descname">MarkdownFormatter</code><span class="sig-paren">(</span><em>id_column=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#MarkdownFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.MarkdownFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as markdown</p>
<dl class="method">
<dt id="matgendb.vv.report.MarkdownFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#MarkdownFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.MarkdownFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.Report">
<em class="property">class </em><code class="descname">Report</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Report" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create blank report, with a header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>header</strong> (<a class="reference internal" href="#matgendb.vv.report.Header" title="matgendb.vv.report.Header"><em>Header</em></a>) – Report header</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="matgendb.vv.report.Report.add_section">
<code class="descname">add_section</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Report.add_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Report.add_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Report.header">
<code class="descname">header</code><a class="headerlink" href="#matgendb.vv.report.Report.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.Report.is_empty">
<code class="descname">is_empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Report.is_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Report.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="matgendb.vv.report.ReportBackupError">
<em class="property">exception </em><code class="descname">ReportBackupError</code><a class="reference internal" href="_modules/matgendb/vv/report.html#ReportBackupError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.ReportBackupError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.ReportHeader">
<em class="property">class </em><code class="descname">ReportHeader</code><span class="sig-paren">(</span><em>title=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#ReportHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.ReportHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.Header" title="matgendb.vv.report.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.Header</span></code></a></p>
<p>Header for entire report.</p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.ReportJSONEncoder">
<em class="property">class </em><code class="descname">ReportJSONEncoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#ReportJSONEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.ReportJSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.util.MongoJSONEncoder</span></code></p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (‘, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="method">
<dt id="matgendb.vv.report.ReportJSONEncoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#ReportJSONEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.ReportJSONEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.ReportSection">
<em class="property">class </em><code class="descname">ReportSection</code><span class="sig-paren">(</span><em>header</em>, <em>body=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#ReportSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.ReportSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.Report" title="matgendb.vv.report.Report"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.Report</span></code></a></p>
<p>Section within a report, with data.</p>
<p>Create new report section, initialized with header and body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> (<a class="reference internal" href="#matgendb.vv.report.SectionHeader" title="matgendb.vv.report.SectionHeader"><em>SectionHeader</em></a>) – The header for the section</li>
<li><strong>body</strong> (<a class="reference internal" href="#matgendb.vv.report.Table" title="matgendb.vv.report.Table"><em>Table</em></a>) – The body of the section, or None if this is a container for sub-sections</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.report.ReportSection.body">
<code class="descname">body</code><a class="headerlink" href="#matgendb.vv.report.ReportSection.body" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.SectionHeader">
<em class="property">class </em><code class="descname">SectionHeader</code><span class="sig-paren">(</span><em>title=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#SectionHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.SectionHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.report.Header" title="matgendb.vv.report.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.report.Header</span></code></a></p>
<p>Header for one section of a report.</p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.report.Table">
<em class="property">class </em><code class="descname">Table</code><span class="sig-paren">(</span><em>colnames</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Table of values.</p>
<dl class="method">
<dt id="matgendb.vv.report.Table.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Table.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Table.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Table.column_names">
<code class="descname">column_names</code><a class="headerlink" href="#matgendb.vv.report.Table.column_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Table.column_widths">
<code class="descname">column_widths</code><a class="headerlink" href="#matgendb.vv.report.Table.column_widths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Table.ncol">
<code class="descname">ncol</code><a class="headerlink" href="#matgendb.vv.report.Table.ncol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Table.nrow">
<code class="descname">nrow</code><a class="headerlink" href="#matgendb.vv.report.Table.nrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.report.Table.sortby">
<code class="descname">sortby</code><span class="sig-paren">(</span><em>name_or_index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#Table.sortby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.Table.sortby" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.report.Table.values">
<code class="descname">values</code><a class="headerlink" href="#matgendb.vv.report.Table.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="matgendb.vv.report.css_minify">
<code class="descname">css_minify</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/report.html#css_minify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.report.css_minify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-matgendb.vv.util">
<span id="matgendb-vv-util-module"></span><h2>matgendb.vv.util module<a class="headerlink" href="#module-matgendb.vv.util" title="Permalink to this headline">¶</a></h2>
<p>Utility functions and classes for validation.</p>
<dl class="class">
<dt id="matgendb.vv.util.DoesLogging">
<em class="property">class </em><code class="descname">DoesLogging</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#DoesLogging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.DoesLogging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mix-in class that creates the attribute ‘log’, setting its qualified
name to the name of the module and class.</p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.util.ElapsedTime">
<em class="property">class </em><code class="descname">ElapsedTime</code><a class="reference internal" href="_modules/matgendb/vv/util.html#ElapsedTime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.ElapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.util.JsonWalker">
<em class="property">class </em><code class="descname">JsonWalker</code><span class="sig-paren">(</span><em>value_transform=None</em>, <em>dict_transform=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#JsonWalker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.JsonWalker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Walk a dict, transforming.
Used for JSON formatting.</p>
<p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value_transform</strong> (<em>function taking a single arg</em><em> (</em><em>the value</em><em>)</em>) – Apply this function to each value in a list or dict.</li>
<li><strong>dict_transform</strong> (<em>function taking a single arg</em><em> (</em><em>the dict</em><em>)</em>) – Apply this function to each dict</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="matgendb.vv.util.JsonWalker.dict_expand">
<em class="property">static </em><code class="descname">dict_expand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#JsonWalker.dict_expand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.JsonWalker.dict_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand keys in a dict with ‘.’ in them into
sub-dictionaries, e.g.</p>
<p>{‘a.b.c’: ‘foo’} ==&gt; {‘a’: {‘b’: {‘c’: ‘foo’}}}</p>
</dd></dl>

<dl class="staticmethod">
<dt id="matgendb.vv.util.JsonWalker.value_json">
<em class="property">static </em><code class="descname">value_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#JsonWalker.value_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.JsonWalker.value_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply as_json() method on object to get value,
otherwise return object itself as the value.</p>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.util.JsonWalker.walk">
<code class="descname">walk</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#JsonWalker.walk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.JsonWalker.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Walk a dict &amp; transform.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.util.Timing">
<em class="property">class </em><code class="descname">Timing</code><span class="sig-paren">(</span><em>name='event'</em>, <em>elapsed=None</em>, <em>log=None</em>, <em>level=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#Timing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.Timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Perform and report timings using the ‘with’ keyword.</p>
<dl class="docutils">
<dt>For example:</dt>
<dd><dl class="first last docutils">
<dt>with Timing(‘foo’, info=’bar’):</dt>
<dd>do_foo1()
do_foo2()</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.util.YamlConfig">
<em class="property">class </em><code class="descname">YamlConfig</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>nargs=None</em>, <em>const=None</em>, <em>default=None</em>, <em>type=None</em>, <em>choices=None</em>, <em>required=False</em>, <em>help=None</em>, <em>metavar=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#YamlConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.YamlConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
<p>Populate arguments with YAML file contents.</p>
<dl class="docutils">
<dt>Adapted from:</dt>
<dd><a class="reference external" href="http://code.activestate.com/recipes/577918-filling-command-line-arguments-with-a-file/">http://code.activestate.com/recipes/577918-filling-command-line-arguments-with-a-file/</a></dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="matgendb.vv.util.args_kvp_nodup">
<code class="descname">args_kvp_nodup</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#args_kvp_nodup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.args_kvp_nodup" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse argument string as key=value pairs separated by commas.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – Argument string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Parsed value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">ValueError for format violations or a duplicated key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="matgendb.vv.util.args_list">
<code class="descname">args_list</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#args_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.args_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse argument string as list of values separated by commas.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – Argument string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Parsed value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="matgendb.vv.util.letter_num">
<code class="descname">letter_num</code><span class="sig-paren">(</span><em>x</em>, <em>letter='A'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#letter_num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.letter_num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="matgendb.vv.util.total_size">
<code class="descname">total_size</code><span class="sig-paren">(</span><em>o</em>, <em>handlers={}</em>, <em>verbose=False</em>, <em>count=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/util.html#total_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.util.total_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the approximate memory footprint an object and all of its contents.</p>
<p>Automatically finds the contents of the following builtin containers and
their subclasses:  tuple, list, deque, dict, set and frozenset.
To search other containers, add handlers to iterate over their contents:</p>
<blockquote>
<div><dl class="docutils">
<dt>handlers = {SomeContainerClass: iter,</dt>
<dd>OtherContainerClass: OtherContainerClass.get_elements}</dd>
</dl>
</div></blockquote>
<p>Source: <a class="reference external" href="http://code.activestate.com/recipes/577504/">http://code.activestate.com/recipes/577504/</a> (r3)</p>
</dd></dl>

</div>
<div class="section" id="module-matgendb.vv.validate">
<span id="matgendb-vv-validate-module"></span><h2>matgendb.vv.validate module<a class="headerlink" href="#module-matgendb.vv.validate" title="Permalink to this headline">¶</a></h2>
<p>Collection validator</p>
<dl class="class">
<dt id="matgendb.vv.validate.ConstraintSpec">
<em class="property">class </em><code class="descname">ConstraintSpec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintSpec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.util.DoesLogging" title="matgendb.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.util.DoesLogging</span></code></a></p>
<p>Specification of a set of constraints for a collection.</p>
<p>Create specification from a configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spec</strong> (<em>dict</em>) – Configuration for a single collection</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError if specification is wrong</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpec.CONSTRAINT_SECT">
<code class="descname">CONSTRAINT_SECT</code><em class="property"> = 'constraints'</em><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpec.CONSTRAINT_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpec.FILTER_SECT">
<code class="descname">FILTER_SECT</code><em class="property"> = 'filter'</em><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpec.FILTER_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpec.SAMPLE_SECT">
<code class="descname">SAMPLE_SECT</code><em class="property"> = 'sample'</em><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpec.SAMPLE_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.ConstraintSpecSection">
<em class="property">class </em><code class="descname">ConstraintSpecSection</code><span class="sig-paren">(</span><em>fltr</em>, <em>constraints</em>, <em>sample</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintSpecSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpecSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpecSection.constraints">
<code class="descname">constraints</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpecSection.constraints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpecSection.filters">
<code class="descname">filters</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpecSection.filters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.ConstraintSpecSection.get_key">
<code class="descname">get_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintSpecSection.get_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpecSection.get_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintSpecSection.sampler">
<code class="descname">sampler</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintSpecSection.sampler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.ConstraintViolation">
<em class="property">class </em><code class="descname">ConstraintViolation</code><span class="sig-paren">(</span><em>constraint</em>, <em>value</em>, <em>expected</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintViolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A single constraint violation, with no metadata.</p>
<p>Create new constraint violation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constraint</strong> (<em>Constraint</em>) – The constraint that was violated</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintViolation.expected_value">
<code class="descname">expected_value</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolation.expected_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintViolation.field">
<code class="descname">field</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolation.field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintViolation.got_value">
<code class="descname">got_value</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolation.got_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.ConstraintViolation.op">
<code class="descname">op</code><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolation.op" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.ConstraintViolationGroup">
<em class="property">class </em><code class="descname">ConstraintViolationGroup</code><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintViolationGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolationGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A group of constraint violations with metadata.</p>
<p>Create an empty object.</p>
<dl class="method">
<dt id="matgendb.vv.validate.ConstraintViolationGroup.add_violations">
<code class="descname">add_violations</code><span class="sig-paren">(</span><em>violations</em>, <em>record=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ConstraintViolationGroup.add_violations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ConstraintViolationGroup.add_violations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add constraint violations and associated record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>violations</strong> (<em>list</em><em>(</em><a class="reference internal" href="#matgendb.vv.validate.ConstraintViolation" title="matgendb.vv.validate.ConstraintViolation"><em>ConstraintViolation</em></a><em>)</em>) – List of violations</li>
<li><strong>record</strong> (<em>dict</em>) – Associated record</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="matgendb.vv.validate.DBError">
<em class="property">exception </em><code class="descname">DBError</code><a class="reference internal" href="_modules/matgendb/vv/validate.html#DBError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.DBError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.NullConstraintViolation">
<em class="property">class </em><code class="descname">NullConstraintViolation</code><a class="reference internal" href="_modules/matgendb/vv/validate.html#NullConstraintViolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.NullConstraintViolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.validate.ConstraintViolation" title="matgendb.vv.validate.ConstraintViolation"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.validate.ConstraintViolation</span></code></a></p>
<p>Empty constraint violation, for when there are no constraints.</p>
</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.ProgressMeter">
<em class="property">class </em><code class="descname">ProgressMeter</code><span class="sig-paren">(</span><em>num</em>, <em>fmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ProgressMeter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ProgressMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple progress tracker</p>
<dl class="attribute">
<dt id="matgendb.vv.validate.ProgressMeter.count">
<code class="descname">count</code><a class="headerlink" href="#matgendb.vv.validate.ProgressMeter.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.ProgressMeter.set_subject">
<code class="descname">set_subject</code><span class="sig-paren">(</span><em>subj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ProgressMeter.set_subject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ProgressMeter.set_subject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.ProgressMeter.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ProgressMeter.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ProgressMeter.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.Projection">
<em class="property">class </em><code class="descname">Projection</code><a class="reference internal" href="_modules/matgendb/vv/validate.html#Projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fields on which to project the query results.</p>
<dl class="method">
<dt id="matgendb.vv.validate.Projection.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>field</em>, <em>op=None</em>, <em>val=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Projection.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Projection.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Update report fields to include new one, if it doesn’t already.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>field</strong> (<em>Field</em>) – The field to include</li>
<li><strong>op</strong> (<em>ConstraintOperator</em>) – Operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Projection.to_mongo">
<code class="descname">to_mongo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Projection.to_mongo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Projection.to_mongo" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate projection to MongoDB query form.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary to put into a MongoDB JSON query</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.PythonMethod">
<em class="property">class </em><code class="descname">PythonMethod</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#PythonMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.PythonMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulate an external Python method that will be run on our target
MongoDB collection to perform arbitrary types of validation.</p>
<p>Create new instance from a raw constraint string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">ValidatorSyntaxerror</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.validate.PythonMethod.BAD_CONSTRAINT_ERR">
<code class="descname">BAD_CONSTRAINT_ERR</code><em class="property"> = 'Invalid constraint (must be: &#64;&lt;method&gt; [&lt;param&gt; ..])'</em><a class="headerlink" href="#matgendb.vv.validate.PythonMethod.BAD_CONSTRAINT_ERR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.PythonMethod.CANNOT_COMBINE_ERR">
<code class="descname">CANNOT_COMBINE_ERR</code><em class="property"> = 'Call to a Python method cannot be combined '</em><a class="headerlink" href="#matgendb.vv.validate.PythonMethod.CANNOT_COMBINE_ERR" title="Permalink to this definition">¶</a></dt>
<dd><p>with any other constraints</p>
</dd></dl>

<dl class="classmethod">
<dt id="matgendb.vv.validate.PythonMethod.constraint_is_method">
<em class="property">classmethod </em><code class="descname">constraint_is_method</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#PythonMethod.constraint_is_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.PythonMethod.constraint_is_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Check from the text of the constraint whether it is
a Python method, as opposed to a ‘normal’ constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if it is, False if not</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.Sampler">
<em class="property">class </em><code class="descname">Sampler</code><span class="sig-paren">(</span><em>min_items=0</em>, <em>max_items=1000000000.0</em>, <em>p=1.0</em>, <em>distrib=1</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Sampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.util.DoesLogging" title="matgendb.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.util.DoesLogging</span></code></a></p>
<p>Randomly sample a proportion of the full collection.</p>
<p>Create new parameterized sampler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_items</strong> – Minimum number of items in the sample</li>
<li><strong>max_items</strong> – Maximum number of items in the sample</li>
<li><strong>p</strong> – Probability of selecting an item</li>
<li><strong>distrib</strong> (<em>str</em><em> or </em><em>int</em>) – Probability distribution code, one of DIST_&lt;name&gt; in this class</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError, if <cite>distrib</cite> is an unknown code or string</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matgendb.vv.validate.Sampler.DEFAULT_DIST">
<code class="descname">DEFAULT_DIST</code><em class="property"> = 1</em><a class="headerlink" href="#matgendb.vv.validate.Sampler.DEFAULT_DIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.Sampler.DIST_CODES">
<code class="descname">DIST_CODES</code><em class="property"> = {'uniform': 1}</em><a class="headerlink" href="#matgendb.vv.validate.Sampler.DIST_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.Sampler.DIST_RUNIF">
<code class="descname">DIST_RUNIF</code><em class="property"> = 1</em><a class="headerlink" href="#matgendb.vv.validate.Sampler.DIST_RUNIF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="matgendb.vv.validate.Sampler.is_empty">
<code class="descname">is_empty</code><a class="headerlink" href="#matgendb.vv.validate.Sampler.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Sampler.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><em>cursor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Sampler.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Sampler.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract records randomly from the database.
Continue until the target proportion of the items have been
extracted, or until <cite>min_items</cite> if this is larger.
If <cite>max_items</cite> is non-negative, do not extract more than these.</p>
<p>This function is a generator, yielding items incrementally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cursor</strong> (<em>pymongo.cursor.Cursor</em>) – Cursor to sample</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">yields each item</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError, if max_items is valid and less than <cite>min_items</cite>
or if target collection is empty</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matgendb.vv.validate.Validator">
<em class="property">class </em><code class="descname">Validator</code><span class="sig-paren">(</span><em>max_violations=50</em>, <em>max_dberrors=10</em>, <em>aliases=None</em>, <em>add_exists=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matgendb.vv.util.DoesLogging" title="matgendb.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">matgendb.vv.util.DoesLogging</span></code></a></p>
<p>Validate a collection.</p>
<dl class="class">
<dt id="matgendb.vv.validate.Validator.SectionParts">
<em class="property">class </em><code class="descname">SectionParts</code><span class="sig-paren">(</span><em>cond</em>, <em>body</em>, <em>sampler</em>, <em>report_fields</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator.SectionParts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator.SectionParts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulate the tuple of information for each section of filters, constraints,
etc. within a collection.</p>
<p>Create new initialized set of parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cond</strong> (<em>MongoQuery</em>) – Condition to filter records</li>
<li><strong>body</strong> (<em>MongoQuery</em>) – Main set of constraints</li>
<li><strong>sampler</strong> (<a class="reference internal" href="#matgendb.vv.validate.Sampler" title="matgendb.vv.validate.Sampler"><em>Sampler</em></a>) – Sampling class if any</li>
<li><strong>report_fields</strong> (<em>list</em>) – Fields to report on</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Validator.num_violations">
<code class="descname">num_violations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator.num_violations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator.num_violations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Validator.set_aliases">
<code class="descname">set_aliases</code><span class="sig-paren">(</span><em>new_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator.set_aliases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator.set_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Set aliases and wrap errors in ValueError</p>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Validator.set_progress">
<code class="descname">set_progress</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator.set_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator.set_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Report progress every <cite>num</cite> bad records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num</strong> (<em>int</em>) – Report interval</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matgendb.vv.validate.Validator.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><em>coll</em>, <em>constraint_spec</em>, <em>subject='collection'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#Validator.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.Validator.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation of  a collection.
This is a generator that yields ConstraintViolationGroups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coll</strong> (<em>pymongo.Collection</em>) – Mongo collection</li>
<li><strong>constraint_spec</strong> (<a class="reference internal" href="#matgendb.vv.validate.ConstraintSpec" title="matgendb.vv.validate.ConstraintSpec"><em>ConstraintSpec</em></a>) – Constraint specification</li>
<li><strong>subject</strong> (<em>str</em>) – Name of the thing being validated</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Sets of constraint violation, one for each constraint_section</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#matgendb.vv.validate.ConstraintViolationGroup" title="matgendb.vv.validate.ConstraintViolationGroup">ConstraintViolationGroup</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">ValidatorSyntaxError</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="matgendb.vv.validate.ValidatorSyntaxError">
<em class="property">exception </em><code class="descname">ValidatorSyntaxError</code><span class="sig-paren">(</span><em>target</em>, <em>desc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#ValidatorSyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.ValidatorSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Syntax error in configuration of Validator</p>
</dd></dl>

<dl class="function">
<dt id="matgendb.vv.validate.mongo_get">
<code class="descname">mongo_get</code><span class="sig-paren">(</span><em>rec</em>, <em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/matgendb/vv/validate.html#mongo_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matgendb.vv.validate.mongo_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value from dict using MongoDB dot-separated path semantics.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;a.b&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;a.b.c&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rec</strong> – mongodb document</li>
<li><strong>key</strong> – path to mongo value</li>
<li><strong>default</strong> – default to return if not found</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">value, potentially nested, or default if not found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError, if record is not a dict.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-matgendb.vv">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-matgendb.vv" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">matgendb.vv package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-matgendb.vv.diff">matgendb.vv.diff module</a></li>
<li><a class="reference internal" href="#module-matgendb.vv.report">matgendb.vv.report module</a></li>
<li><a class="reference internal" href="#module-matgendb.vv.util">matgendb.vv.util module</a></li>
<li><a class="reference internal" href="#module-matgendb.vv.validate">matgendb.vv.validate module</a></li>
<li><a class="reference internal" href="#module-matgendb.vv">Module contents</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/matgendb.vv.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2011, Shyue Ping Ong, Dan Gunter.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>